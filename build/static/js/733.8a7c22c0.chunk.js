"use strict";(self.webpackChunkgpt=self.webpackChunkgpt||[]).push([[733],{64733:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var l=t(72791),o=t(31243),a=t(53540),n=t(80184);function c(){const e=(0,l.useRef)(null),s=(0,l.useRef)(null),[t,c]=(0,l.useState)(!1),[r,i]=(0,l.useState)(""),[u,p]=(0,l.useState)([]);(0,l.useEffect)((()=>{setTimeout((()=>{console.log("bottom"),s.current.scrollIntoView({behavior:"smooth",block:"start"})}),100)}),[s,u]);const x=async()=>{if(!r)return;let e=[...u];console.log(e);const s={username:"user",content:r};e.push(s),p(e),i("");e.push({content:"Loading...",username:"bot"}),p(e),console.log("http://154.41.251.23:8545/chat");let t=(await o.Z.post("http://154.41.251.23:8545/chat",{message:r})).data.reply;console.log(t),i("");const l={content:t,username:"bot"};e.pop(),e.push(l),console.log(u),p(e),c(!1)};return(0,n.jsxs)("div",{className:"container flex-1 flex flex-col",children:[(0,n.jsxs)("div",{className:"overflow-y-auto flex flex-col gap-3 p-[10px] myoverflow",children:[u.map((e=>(0,n.jsx)("div",{className:"flex "+("bot"===e.username?"":"flex-row-reverse"),children:(0,n.jsx)("div",{className:"p-3 whitespace-pre-line rounded-md min-w-[20px] "+("bot"===e.username?"text-white bg-[#28282C]":"bg-[#A1DC95] text-black flex-row-reverse"),children:(0,a.ZP)(e.content)})}))),(0,n.jsx)("div",{ref:s})]}),(0,n.jsxs)("div",{className:"w-full flex flex-row px-[10px] py-[30px]",children:[(0,n.jsx)("input",{ref:e,placeholder:"Write a message...",value:r,onKeyUp:e=>(async e=>{13===e.keyCode&&(t||(c(!0),await x()))})(e),onChange:e=>i(e.target.value),className:"flex-1 bg-[#28282C] text-white p-2 "}),(0,n.jsx)("button",{className:"",onClick:()=>{x(),i("")},children:(0,n.jsx)("img",{alt:"send",src:"/assets/images/send.png",width:20,height:20,style:{marginLeft:"5px"}})})]})]})}}}]);
//# sourceMappingURL=733.8a7c22c0.chunk.js.map